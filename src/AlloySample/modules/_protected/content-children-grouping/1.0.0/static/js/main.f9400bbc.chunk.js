(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{217:function(e,n,t){},248:function(e,n){},404:function(e,n,t){},425:function(e,n,t){"use strict";t.r(n);var i,c=t(1),o=t.n(c),a=t(24),r=t.n(a),l=(t(217),t(36)),s=t(26),u=t(8),j=(t(404),t(6)),d=t.n(j),b=(t(405),t(4)),f=function(e){var n=e.open,t=e.title,i=void 0===t?"Confirm":t,c=e.message,o=e.onConfirm,a=e.onCancel;return n?Object(b.jsx)(u.f,{title:i,hasCloseButton:!0,hasOverlay:!0,onClose:a,footerButtonList:[Object(b.jsx)(u.c,{style:"plain",onClick:a,children:"Cancel"},0),Object(b.jsx)(u.c,{style:"highlight",onClick:o,children:"Save"},1)],children:Object(b.jsx)("p",{children:c})}):Object(b.jsx)(b.Fragment,{})},O=function(e){var n=e.items,t=e.onEdit,i=e.onDelete,o=Object(c.useState)(null),a=Object(s.a)(o,2),r=a[0],l=a[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(u.j,{density:"loose",children:[Object(b.jsx)(u.j.THead,{children:Object(b.jsxs)(u.j.TR,{children:[Object(b.jsx)(u.j.TH,{children:"Content Link"}),Object(b.jsx)(u.j.TH,{children:"Container type"}),Object(b.jsx)(u.j.TH,{children:"Router enabled"}),Object(b.jsx)(u.j.TH,{children:"Generator"}),Object(b.jsx)(u.j.TH,{children:"Delete"})]})}),Object(b.jsx)(u.j.TBody,{children:(n||[]).map((function(e){return Object(b.jsxs)(u.j.TR,{children:[Object(b.jsx)(u.j.TD,{children:e.contentLink}),Object(b.jsx)(u.j.TD,{width:"20%",children:e.containerTypeName}),Object(b.jsx)(u.j.TD,{children:e.routingEnabled&&Object(b.jsx)(d.a,{name:"check"})}),Object(b.jsx)(u.j.TD,{children:(e.groupLevelConfigurations||[]).join(", ")}),Object(b.jsxs)(u.j.TD,{children:[Object(b.jsx)(u.c,{style:"plain",size:"narrow",leftIcon:"projects",onClick:function(){return t(e)},children:"Edit"}),Object(b.jsx)(u.c,{style:"plain",size:"narrow",leftIcon:"ban",onClick:function(){return l(e)},children:"Delete"})]})]},e.contentLink)}))})]}),Object(b.jsx)(f,{open:!!r,message:"Do you want to delete configuration",onCancel:function(){return l(null)},onConfirm:function(){r&&(i(r),l(null))}})]})},g=function(e){var n=e.onSave,t=e.onCancel,i=e.configuration,o=e.availableNameGenerators,a=e.validationMessage,r=Object(c.useState)((null===i||void 0===i?void 0:i.contentLink)||""),j=Object(s.a)(r,2),d=j[0],f=j[1],O=Object(c.useState)((null===i||void 0===i?void 0:i.containerTypeName)||""),g=Object(s.a)(O,2),h=g[0],v=g[1],p=Object(c.useState)((null===i||void 0===i?void 0:i.routingEnabled)||!1),x=Object(s.a)(p,2),m=x[0],C=x[1],y=Object(c.useState)((null===i||void 0===i?void 0:i.groupLevelConfigurations)||[]),k=Object(s.a)(y,2),L=k[0],T=k[1];Object(c.useEffect)((function(){f((null===i||void 0===i?void 0:i.contentLink)||""),v((null===i||void 0===i?void 0:i.containerTypeName)||""),C((null===i||void 0===i?void 0:i.routingEnabled)||!1),T((null===i||void 0===i?void 0:i.groupLevelConfigurations)||[])}),[i]);return Object(b.jsxs)(u.f,{title:"Configuration",className:"configuration-item",hasCloseButton:!0,hasOverlay:!0,onClose:t,footerButtonList:[Object(b.jsx)(u.c,{style:"plain",onClick:t,children:"Cancel"},0),Object(b.jsx)(u.c,{style:"highlight",onClick:function(){n({contentLink:d,containerTypeName:h,routingEnabled:m,groupLevelConfigurations:L})},children:"Save"},1)],children:[a&&Object(b.jsx)(u.a,{alignment:"center",type:"bad-news",children:a}),Object(b.jsx)(u.g,{displayError:!1,type:"number",isOptional:!1,label:"Container Content link",maxLength:5,className:"content-link",min:1,onChange:function(e){return f(e.target.value)},value:d}),Object(b.jsx)(u.g,{type:"text",label:"Container type name",value:h,onChange:function(e){return v(e.target.value)}}),Object(b.jsx)(u.e,{label:"Router enabled",checked:m,onChange:function(e){return C(e.target.value)}}),Object(b.jsx)(u.h,{children:"Name generators"}),Object(b.jsx)(u.b,{hasBorder:!1,className:"configuration-item",children:L.map((function(e,n){return Object(b.jsxs)(u.b.Item,{children:[Object(b.jsx)(u.i,{className:"configuration-generator-select",isOptional:!1,onChange:function(e){return function(e,n){var t=Object(l.a)(L);t[e]=n,T(t)}(n,e.target.value)},children:o.map((function(n){return Object(b.jsx)("option",{value:n,selected:n===e,children:n},n)}))}),n>0&&Object(b.jsx)(u.d,{className:"remove-button",iconName:"close",isDisabled:!1,onClick:function(){return function(e){var n=Object(l.a)(L);n.splice(e,1),T(n)}(n)},size:"small",style:"outline",title:"Close Dialog"})]},e+"_"+n)}))}),Object(b.jsx)(u.c,{style:"outline",size:"narrow",leftIcon:"add",onClick:function(){var e=[].concat(Object(l.a)(L),[o[0]]);T(e)},children:"Add generator"})]})},h=t(103),v=t.n(h),p={load:function(){return v.a.get("/EPiServer/content-children-grouping/ConfigSettings/LoadConfigurations").then((function(e){return alert("loaded"),e})).catch((function(e){return console.error(e),{}}))},save:function(e){v.a.post("/EPiServer/content-children-grouping/ConfigSettings/Save",e).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))}},x=function(e){var n=e.dataService,t=Object(c.useState)(null),o=Object(s.a)(t,2),a=o[0],r=o[1],j=Object(c.useState)(!1),d=Object(s.a)(j,2),f=d[0],h=d[1],v=Object(c.useState)(""),x=Object(s.a)(v,2),m=x[0],C=x[1],y=Object(c.useState)(!1),k=Object(s.a)(y,2),L=k[0],T=k[1],S=Object(c.useState)([]),N=Object(s.a)(S,2),E=N[0],D=N[1],w=Object(c.useState)([]),B=Object(s.a)(w,2),I=B[0],z=B[1];n||(n=p),Object(c.useEffect)((function(){return n.load().then((function(e){D(e.items),z(e.availableNameGenerators)})),function(){i&&clearTimeout(i)}}),[n]);return Object(b.jsxs)("div",{className:"App",children:[L&&Object(b.jsx)(u.a,{alignment:"center",children:"Configuration saved"}),Object(b.jsx)(O,{items:E,onEdit:function(e){h(!1),C(""),r(e)},onDelete:function(e){var n=E.indexOf(e);if(!(n<0)){var t=Object(l.a)(E);t.splice(n,1),D(t)}}}),Object(b.jsx)("br",{}),Object(b.jsx)(u.c,{className:"add-configuration-button",style:"outline",size:"narrow",leftIcon:"add",onClick:function(){C(""),h(!0),r({contentLink:"",containerTypeName:"",routingEnabled:!0,groupLevelConfigurations:[I[0]]||!1})},children:"Add configuration"}),Object(b.jsx)(u.c,{style:"highlight",size:"narrow",leftIcon:"save",onClick:function(){T(!0),i=setTimeout((function(){T(!1)}),3e3)},children:"Save"}),!!a&&Object(b.jsx)(g,{configuration:a,validationMessage:m,onSave:function(e){if(a){var n;if(f){if(null!=E.filter((function(n){return n.contentLink===e.contentLink}))[0])return void C("Duplicated configuration container");n=[].concat(Object(l.a)(E),[e])}else{var t=E.filter((function(n){return n.contentLink===e.contentLink}))[0];if(t&&t!==a)return void C("Duplicated configuration container");var i=E.indexOf(a);n=Object(l.a)(E);var c=Object.assign({},n[i]);c.contentLink=e.contentLink,c.containerTypeName=e.containerTypeName,c.routingEnabled=e.routingEnabled,c.groupLevelConfigurations=e.groupLevelConfigurations,n[i]=c}D(n),r(null),C("")}},onCancel:function(){return r(null)},availableNameGenerators:I})]})},m=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,427)).then((function(n){var t=n.getCLS,i=n.getFID,c=n.getFCP,o=n.getLCP,a=n.getTTFB;t(e),i(e),c(e),o(e),a(e)}))};r.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(x,{})}),document.getElementById("root")),m()}},[[425,1,2]]]);
//# sourceMappingURL=main.f9400bbc.chunk.js.map